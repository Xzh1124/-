<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
</head>

<body>
    <input id="dec-number" type="number" placeholder="输入一个十进制非负整数">
    <input id="bin-bit" type="number" placeholder="输入转化后二进制数字位数">
    <button id="trans-btn">转化为二进制</button>
    <p id="result">运算结果</p>
    <script>
        // 声明一个变量存放运算结果
        var num = '';
        // 获取各个元素
        var n = document.querySelector('#dec-number');
        var btn = document.querySelector('#trans-btn');
        var bin_bit = document.querySelector('#bin-bit');
        var p = document.querySelector('#result');
        // 二进制转换函数
        function dec2bin(decNumber) {
            // 在这里实现你的转化方法，注意需要判断输入必须为一个非负整数

            if (parseInt(decNumber) > 1)
                dec2bin(parseInt(decNumber / 2));

            num += (decNumber % 2).toString();
        }

        // 实现党点击转化按钮时，将输入的十进制数字转化为二进制，并显示在result的p标签内
        // 输入框获得焦点时清空
        n.addEventListener('focus', function() {
                this.value = '';
            })
            // 输出位数获得焦点时清空
        bin_bit.addEventListener('focus', function() {
                this.value = '';
            })
            // 点击按钮获得结果
        btn.addEventListener('click', function() {
                num = ''; //清空num
                // 判断是否为正整数
                if ((/^[+]{0,1}(\d+)$/.test(n.value))) {

                    dec2bin(n.value);

                    var length = num.length;
                    // 如果结果的位数大于规定位数
                    if (bin_bit.value < length) {

                        console.log('错误');
                    } else {

                        // 在结果前添加若干0
                        for (var i = 0; i < bin_bit.value - length; i++) {
                            num = '0' + num;

                        }

                    }
                    p.innerHTML = num;
                } else {
                    alert('请输入正整数');
                    n.value = '';
                }

            })
            // Some coding
    </script>
</body>

</html>